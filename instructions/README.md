# CS 1440 Assignment 6: Recursive Web Crawler - Instructions

**Grace Points**: if these tags are pushed by midnight on the Sunday before the due date, you will receive up to 10 points back:

0.  `analyzed`
1.  `designed`

To be eligible for grace points these tags must be on **separate commits**; they cannot be together.


## Previous Semester Assignment Statistics

Statistic                        | Value
--------------------------------:|:---------------
Average Hours Spent              | 6.789
Standard Deviation Hours         | 2.441
Average Score % (Grade)          | 85.5% (B)
% students thought this was Easy | 65.9%
... Medium                       | 29.3%
... Hard                         | 4.9%
... Too Hard/Did not complete    | 0.0%


*   [How to Do This Assignment](#how-to-do-this-assignment)
    *   [Phase 0: Requirements Analysis](#phase-0-requirements-analysis-tag-name-analyzed)
    *   [Phase 1: Design](#phase-1-design-tag-name-designed)
    *   [Phase 2: Implementation](#phase-2-implementation-tag-name-implemented)
    *   [Phase 3: Testing and Debugging](#phase-3-testing-and-debugging-tag-name-tested)
    *   [Phase 4: Deployment](#phase-4-deployment-tag-name-deployed)
    *   [Phase 5: Maintenance](#phase-5-maintenance)
*   [What We Look for When Grading](#what-we-look-for-when-grading)
*   [Important Things to Watch Out For](#important-things-to-watch-out-for)



## How to Do This Assignment

*   Your grade on this assignment depends upon how well you follow the SDP.  You demonstrate this by following instructions, writing clear documentation, and by *tagging* commits.
    *   Incorrectly spelled/capitalized tags are ignored.
    *   **If you tag the wrong commit**, or **incorrectly spell a tag** refer to `Using_Git/Intermediate_Git.md` in the lecture notes for instructions.
*   You are allowed to use AI tools such as ChatGPT or GitHub Copilot to assist you on this assignment
    *   If you do this, explain how you used it in your Software Development Plan
    *   Clearly identify any text, pseudocode or source code that was generated by the tool


### Phase 0: Requirements Analysis (tag name `analyzed`)
*(20% of your effort)*

**Important - do not change any code in this phase**

0.  Read the [Project Requirements](./Requirements.md) to orient yourself with the project.
    *   Read and run the starter code to understand what is already done for you.
0.  Run the [demo programs](../demo/README.md) to acquaint yourself with the libraries this program uses.
    *   Before you begin, install the libraries needed by this program by running this command from the top of the repository.  Substitute `python3` for `python` as needed.
    *   ```bash
        $ python -m pip install --user -r requirements.txt
        ```
0.  Take the **Starter Code Quiz** on Canvas.
    *   Do not worry if you can't answer all of the questions yet
    *   You can re-take the quiz as many times as you want before the assignment is due
1.  Fill out **Phase 0** in Plan.md; explain in your *own words* what the program does, how it does it, and what changes you expect to make.
2.  Track your time in Signature.md.
3.  **Tag** the last commit in this phase `analyzed` and push it to GitLab.
    *   *Grace Points: if this tag is pushed by midnight on the Sunday before the due date, you will receive up to 5 points back*


### Phase 1: Design (tag name `designed`)
*(30% of your effort)*

0.  You should be able to get 100% on the **Starter Code Quiz** by the end of this phase.
1.  Write a first draft of the **User's Manual** describing the expected user interface (UI).
    *   You don't have a complete, working program yet; this is your best guess at what the program's interface will be like.
    *   The UI may change as you write code, but you should strive to make the design described by your manual.
2.  Design the `crawl()` function on paper; **don't rewrite the files in src/ yet**.
    *   In this phase sketch out your *pseudocode*.
    *   Do not paste Python code into Plan.md; when we want to see your code we will read the `.py` files.
    *   Walk through the pseudocode in your head, with a pad of paper or a whiteboard to convince yourself that your design will work.
    *   You may write *some* runnable Python code to test out your ideas.  This is called *prototyping*, and is a normal part of the design process.
    *   Do not become too attached to your prototype!  Be prepared to delete prototype code after this phase.  It helps to *not* write prototype code in the same files as *real* code.
3.  Fill out **Phase 1** in Plan.md.
    *   This will be the longest portion of the document.
4.  Track your time in Signature.md.
5.  **Tag** the last commit in this phase `designed` and push it to GitLab.
    *   *Grace Points: if this tag is pushed by midnight on the Sunday before the due date, you will receive up to 5 points back*


### Phase 2: Implementation (tag name `implemented`)
*(15% of your effort)*

**Finally, you can write code!**

0.  By the end of this phase the program is runnable.
    *   **Do not** move on if your program crashes unexpectedly!
    *   Don't forget to **close all files** your program uses.
1.  Update your **User's manual** to match your implementation.
    *   Be sure to describe any error messages the user may see and explain how to get past them.
2.  Fill out **Phase 2** in Plan.md.
    *   As you work in this phase you may choose to deviate from the design you settled upon in the previous phase.  This is normal!
    *   Briefly explain what changed.
    *   Do not paste long passages of Python code in Plan.md.
    *   Your write-up for this phase may be very short.
3.  Track your time in Signature.md.
4.  **Tag** the last commit in this phase `implemented` and push it to GitLab.


### Phase 3: Testing and Debugging (tag name `tested`)
*(30% of your effort)*

0.  Fill out **Phase 3** in Plan.md.
    *   Describe the tests cases you ran, both against the included testing server as well as websites in the wild.
    *   Make note of the commands that you ran and what happened in the program.
1.  If you found bugs in this phase, explain what was wrong and how you fixed it.
2.  Track your time in Signature.md.
3.  **Tag** the last commit in this phase `tested` and push it to GitLab.


### Phase 4: Deployment (tag name `deployed`)
*(5% of your effort)*

It is your responsibility to ensure that your program will work on your grader's computer.

*   Code that crashes and *cannot* be quickly fixed by the grader will receive **0 points** on the relevant portions of the rubric.
*   Code that crashes but *can* be quickly fixed by the grader (or crashes only *some* of the time) will receive, at most, **half-credit** on the relevant portions of the rubric.

The following procedure is the best way for you to know what it will be like when the grader runs your code:

0.  Review [How to Submit this Assignment](./How_To_Submit.md) and make sure that your submission is correct.
1.  **Tag** the last commit in this phase `deployed` and push it to GitLab.
    *   It is okay if this is the same commit that was tagged `tested`
2.  Push your code to GitLab, then check that all of your files, commits and **tags** appear there.
3.  Clone your project into a *different directory*, and re-run your test cases.
    *   Run `git log` and verify that all tags are present and on the correct commit.


### Phase 5: Maintenance

0.  Review your Plan.md and Signature.md one last time.
1.  Fill out **Phase 5** in Plan.md by answering the questions.
2.  Make one final commit and push your **completed** Software Development Plan and Signature to GitLab.
3.  Make sure that you are happy with your **Starter Code Quiz** score.
4.  Respond to the **Assignment Reflection Survey** on Canvas.



## What We Look for When Grading

**Total points: 85**

*   **Git Tags (5 points)**
    *   Each of these tags is present in your repository, and are placed on the right commits:
        0.  `analyzed`
        1.  `designed`
        2.  `implemented`
        3.  `tested`
        4.  `deployed` (may be on the same commit as `tested`)
*   **Quality documentation (35 points)**
    *   Plan.md
        *   Each section filled out with a convincing level of detail
        *   The design phase has Pseudocode instead of real code that was copied from the source files
    *   Signature.md
        *   All development activities are accounted for
        *   Placeholder entries and TODO notes removed
*   **User's manual (10 points)**
    *   At least two drafts (`designed` and `deployed`)
    *   Accurately represents the project at each stage
    *   Written at an appropriate level of detail for an end-user
*   **User Interface: Input (5 points)**
    *   A simple usage message is printed when zero arguments are given
    *   The first argument is required to be an absolute URL
        *   Relative URLs are rejected and the usage message is shown
    *   The second argument is an optional *positive* integer that controls the maximum recursion depth
        *   This parameter is ignored when omitted or it is not a positive integer
    *   The `urllib` library is employed
*   **User Interface: Output (5 points)**
    *   The starting URL and maximum recursion depth is printed at startup
    *   URLs are printed only when visited
    *   URLs are printed only once
    *   URL Fragments are never printed
    *   Visited links are printed with 4 spaces of indentation *per level of recursion*
    *   A summary report is printed when the program exits *for any reason*
*   **Handle Exceptions (10 points)**
    *   Exception Handling protects the crawler from crashing when encountering broken web sites
    *   The program gracefully exits upon receipt of `KeyboardInterrupt` by displaying the activity report
    *   Do not *swallow* exceptions; report something about them!
    *   You *may* use the `traceback`](https://docs.python.org/3/library/traceback.html) library to increase the detail of error messages
*   **The `crawl()` function (15 points)**
    *   This function is recursive
    *   This function does not use any global variables
        *   All variables used by the function are passed in as parameters
    *   The `requests` and `BeautifulSoup` libraries are employed



## Important Things to Watch Out For

0.  **100% penalty** your program imports any modules **except**:
    *   `bs4`, specifically `BeautifulSoup`
    *   `requests`
    *   `sys`
    *   `time`
    *   `traceback`
    *   `typing`
    *   `urllib.parse`, specifically `urlparse` and `urljoin`
    *   modules in the starter code
    *   new modules you wrote on your own
0.  **10 point penalty** an import statement fails due to misspelling or incorrect capitalization.
    *   **Windows users** make sure that the capitalization of your file names on GitLab matches your `import` statements!
0.  **10 point penalty** the program attempts to import a module from the `src.` package; this is the result of a PyCharm misconfiguration
0.  **10 point penalty** `eval()`, `exec()`, `globals()` or `locals()` are used.
    *   Instead of `eval()`, you should use `int()` instead.
0.  **10 point penalty** repository's URL on GitLab does not follow the naming convention
0.  **10 point penalty** repository is not a clone of the starter code
0.  **10 point penalty** required files or directories are missing, renamed or not in their expected locations
0.  **10 point penalty** `.gitignore` is missing or corrupt; forbidden files or directories are present in repository.  If you accidentally commit a huge CSV file, ask the instructor for help.
